# üß© Emby Auto Update Script for Ubuntu

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π Bash-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è **Emby Server** –Ω–∞ **Ubuntu**.
–°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é –¥–æ—Å—Ç—É–ø–Ω—É—é –≤–µ—Ä—Å–∏—é –Ω–∞ GitHub, —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –µ—ë —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç Emby, –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–ª—É–∂–±—É –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ **Telegram**.

---

## ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏ Emby —Å GitHub (`MediaBrowser/Emby.Releases`)
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ `.deb` –ø–∞–∫–µ—Ç–∞
- –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–ª—É–∂–±—ã `emby-server`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é —á–µ—Ä–µ–∑ `cron`

---

## üß∞ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Ubuntu 22.04+ / 24.04+ / 25.04
- `curl`, `jq`, `dpkg`, `systemctl`, `bash`
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π **Emby Server**
- –¢–æ–∫–µ–Ω –∏ chat_id –¥–ª—è Telegram-–±–æ—Ç–∞

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/Alex063/emby-auto-update.git
cd emby-auto-update
```

### 2. –î–µ–ª–∞–µ–º —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º

```bash
chmod +x update_emby.sh
```

### 3. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
sudo apt update
sudo apt install -y curl jq
```

---

## üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather):
   ```
   /newbot
   ```
   –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω, –Ω–∞–ø—Ä–∏–º–µ—Ä:
   ```
   123456789:ABCDEF_your_token
   ```

2. –£–∑–Ω–∞–π—Ç–µ —Å–≤–æ–π `chat_id`:
   - –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É @idmyfind_bot –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` —Ä—è–¥–æ–º —Å–æ —Å–∫—Ä–∏–ø—Ç–æ–º:

   ```bash
   TELEGRAM_TOKEN="123456789:ABCDEF_your_token"
   TELEGRAM_CHAT_ID="123456789"
   ```

4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `.env` –Ω–µ –ø–æ–ø–∞–¥—ë—Ç –≤ Git:
   ```bash
   echo ".env" >> .gitignore
   ```

---

## üïì –ù–∞—Å—Ç—Ä–æ–π–∫–∞ cron

–ß—Ç–æ–±—ã —Å–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–ª—Å—è **–∫–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 04:00**, –æ—Ç–∫—Ä–æ–π `crontab`:

```bash
sudo crontab -e
```

–î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:

```
0 4 * * 1 /usr/local/bin/update_emby.sh >> /var/log/cron_update_emby.log 2>&1
```

–∏–ª–∏, –µ—Å–ª–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –ø—Ä—è–º–æ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

```
0 4 * * 1 /root/emby-auto-update/update_emby.sh >> /var/log/cron_update_emby.log 2>&1
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä—É—á–Ω—É—é

–ú–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Ä—É—á–Ω—É—é –¥–ª—è —Ç–µ—Å—Ç–∞:

```bash
sudo ./update_emby.sh
```

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
```
–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π Emby: Sun Oct 5 04:00:00 UTC 2025
–ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è –Ω–∞ GitHub: 4.9.0.15
–¢–µ–∫—É—â–∞—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è: 4.8.10.0
–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 4.8.10.0 ‚Üí 4.9.0.15
Emby –æ–±–Ω–æ–≤–ª—ë–Ω –∏ –∑–∞–ø—É—â–µ–Ω —É—Å–ø–µ—à–Ω–æ.
```

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ Telegram –ø—Ä–∏–¥—ë—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:
> ‚úÖ Emby –æ–±–Ω–æ–≤–ª—ë–Ω –¥–æ –≤–µ—Ä—Å–∏–∏ 4.9.0.15 –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ myserver –∏ —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω ‚úÖ

---

## üß© –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
emby-auto-update/
‚îú‚îÄ‚îÄ update_emby.sh      # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ .env                # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Ç–æ–∫–µ–Ω Telegram)
‚îú‚îÄ‚îÄ .gitignore
‚îî‚îÄ‚îÄ README.md
```

---

## üß† –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –õ–æ–≥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `/var/log/emby_update.log`
- –õ–æ–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è cron —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `/var/log/cron_update_emby.log`
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã ‚Äî –≤ `/tmp/emby_update/`
- –°–∫—Ä–∏–ø—Ç —Ç—Ä–µ–±—É–µ—Ç root-–¥–æ—Å—Ç—É–ø (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `dpkg`, `systemctl`)
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `sudo` –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å cron –¥–ª—è root
- –í —Ñ–∞–π–ª–µ .env —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
---

## üß™ CI: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ Bash (GitHub Actions)

–î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª `.github/workflows/shellcheck.yml`, —á—Ç–æ–±—ã GitHub –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–ª —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ.

```yaml
name: ShellCheck

on: [push, pull_request]

jobs:
  shellcheck:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Run ShellCheck
        uses: ludeeus/action-shellcheck@v2
```

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º `git push` GitHub –ø—Ä–æ–≤–µ—Ä–∏—Ç —Å–∫—Ä–∏–ø—Ç –Ω–∞ –æ—à–∏–±–∫–∏ –∏ –≤—ã–¥–∞—Å—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ Actions.

---

## ü™™ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π **MIT**.  
–í—ã –º–æ–∂–µ—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å –µ–≥–æ –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã.

---
